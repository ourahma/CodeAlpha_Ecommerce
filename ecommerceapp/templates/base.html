{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.0/font/bootstrap-icons.min.css"
      rel="stylesheet"
    />
    <link rel="icon" href="{% static 'images/logo-petit.png' %}" type="image/x-icon">

    <link
      href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&display=swap"
      rel="stylesheet"
    />

    <title>GorgyCart</title>

    <!-- Additional CSS Files -->
    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'css/bootstrap.min.css' %}"
    />

    <link
      rel="stylesheet"
      type="text/css"
      href="{% static 'css/font-awesome.css' %}"
    />

    <link rel="stylesheet" href="{% static 'css/templatemo-hexashop.css' %}" />
    <link rel="stylesheet" href="{% static 'css/stylecard.css' %}" />

    <link rel="stylesheet" href="{% static 'css/owl-carousel.css' %}" />

    <link rel="stylesheet" href="{% static 'css/lightbox.css' %}" />
   
<style>
.alert {
    background-color: white !important;
    border: 1px solid #ddd;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    transition: opacity 0.15s linear;
}

.alert.fade {
    opacity: 0;
}

.alert.show {
    opacity: 1;
}
</style>

  </head>

  <body>


    <!-- ***** Header Area Start ***** -->
    <header class="header-area header-sticky">
      <div class="container">
        <div class="row">
          <div class="col-12">
            <nav class="main-nav">
              <!-- ***** Logo Start ***** -->
              <a href="index.html" class="logo">
                <img src="{% static 'images/logo-petit.png' %}" />
              </a>
              <!-- ***** Logo End ***** -->
              <!-- ***** Menu Start ***** -->
              <ul class="nav">
                <li class="scroll-to-section">
                  <a href="{% url 'dashboard' %}" class="active">Home</a>
                </li>
                {% for category in categories %} {% if forloop.counter <= 1 %}
                <li class="scroll-to-section">
                  <a href="{% url 'category' category.id %}">{{ category.name }}</a>
                </li>
                {% endif %} {% endfor %}

                <li class="submenu">
                  <a href="javascript:;">Pages</a>
                  <ul>
                    <li><a href="{% url 'about' %}">About Us</a></li>
                    
                    <li><a href="{% url 'contact' %}">Contact Us</a></li>
                  </ul>
                </li>
                {% comment %} list Categories {% endcomment %}

                <li class="submenu">
                  <a href="javascript:;"> All Categories</a>
                  <ul>
                    {% for category in categories %}
                    <li><a href="{% url 'category' category.id %}">{{ category.name }}</a></li>
                    {% endfor %}
                  </ul>
                </li>
                <li class="scroll-to-section">
                  <a href="{% url 'explore' %}">Explore</a>
                </li>
                <li>
                  <form class="d-flex">
                    <a
                      href="{% url 'cart_summary' %}"
                      class="btn btn-outline-dark"
                      type="submit"
                    >
                      <i class="bi-cart-fill me-1"></i>
                      Cart
                      <span
                        class="badge bg-dark text-white ms-1 rounded-pill"
                        id="cart_quantity"
                        >{{ cart|length}}</span
                      >
                    </a>
                  </form>
                </li>
                
                {% if user.is_authenticated %}
                <li class="submenu">
                  <a href="javascript:;"> {{ user.username }}</a>
                  <ul>
                    <li><a href="{% url 'profile' %}">Edit your profile</a></li>
                    <li><a href="{% url 'orders' %}">You orders</a></li>
                    <li><a href="{% url 'logout_user' %}">Logout</a></li>
                    
                    
                  </ul>
                </li>
                {% else %}
                <li>
                  <a href="{% url 'login_user' %}" class="btn btn-dark text-white align-content-center">LOG IN</a>
                </li>
                {% endif %}
                  
              </ul>
              <a class="menu-trigger">
                <span>Menu</span>
              </a>
              <!-- ***** Menu End ***** -->
            </nav>
          </div>
        </div>
      </div>
    </header>
    <!-- ***** Header Area End ***** -->

    {% if messages %}
    <div class="position-fixed top-0 end-0 p-3" style="z-index: 1050;">
        {% for message in messages %}
            {% if message.tags == 'warning' %}
                <div class="alert alert-warning alert-dismissible fade show" role="alert" style="background-color: white;" id="alert-{{ forloop.counter }}">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-exclamation-triangle-fill text-warning me-2"></i>
                        <strong>Warning:</strong> {{ message }}
                        <button type="button" class="btn-close" aria-label="Close" onclick="closeAlert('alert-{{ forloop.counter }}')"></button>
                    </div>
                </div>
            {% elif message.tags == 'success' %}
                <div class="alert alert-success alert-dismissible fade show" role="alert" style="background-color: white;" id="alert-{{ forloop.counter }}">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-check-circle-fill text-success me-2"></i>
                        <strong>Success:</strong> {{ message }}
                        <button type="button" class="btn-close" aria-label="Close" onclick="closeAlert('alert-{{ forloop.counter }}')"></button>
                    </div>
                </div>
            {% else %}
                <div class="alert alert-danger alert-dismissible fade show" role="alert" style="background-color: white;" id="alert-{{ forloop.counter }}">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-x-circle-fill text-danger me-2"></i>
                        <strong>Error:</strong> {{ message }}
                        <button type="button" class="btn-close" aria-label="Close" onclick="closeAlert('alert-{{ forloop.counter }}')"></button>
                    </div>
                </div>
            {% endif %}
        {% endfor %}
    </div>
{% endif %}





   {% block content %}
    
   {% endblock content %}
    
    <!-- ***** Footer Start ***** -->
    <footer>
      <div class="container">
        <div class="row">
          <div class="col-lg-3">
            <div class="first-item">
              <div class="logo">
                <img
                  src="{% static 'images/logo-petit.png' %}"
                  alt="hexashop ecommerce templatemo"
                />
              </div>
              <ul>
                <li>
                  <a href="#"
                    >aderesse</a
                  >
                </li>
                
              </ul>
            </div>
          </div>
          <div class="col-lg-3">
            <h4>Shopping &amp; Categories</h4>
            <ul>
              
              {% for category in categories %}
              {% if forloop.counter <= 3 %}
              <li><a href="{% url 'category' category.id %}">{{ category.name}}</a></li>
              {% endif %}
              {% endfor %}
                
              
            </ul>
          </div>
          <div class="col-lg-3">
            <h4>Useful Links</h4>
            <ul>
              
              <li><a href="{% url 'about' %}">About Us</a></li>
              
              <li><a href="{% url 'contact' %}">Contact Us</a></li>
            </ul>
          </div>
          
          <div class="col-lg-12">
            <div class="under-footer">
              <p>
                Copyright Â© 2022 ,
                <br><br><br><br><br>
                Ltd. All Rights Reserved.

                <br />
              </p>
              <ul>
                <li>
                  <a href="#"><i class="fa fa-facebook"></i></a>
                </li>
                <li>
                  <a href="#"><i class="fa fa-twitter"></i></a>
                </li>
                <li>
                  <a href="#"><i class="fa fa-linkedin"></i></a>
                </li>
                <li>
                  <a href="#"><i class="fa fa-behance"></i></a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- jQuery -->
    <script src="{% static 'js/jquery-2.1.0.min.js' %}"></script>
    <!-- Include Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Bootstrap -->
    <script src="{% static 'js/popper.js' %}"></script>
    <script src="{% static 'js/bootstrap.min.js' %}"></script>

    <!-- Plugins -->
    <script src="{% static 'js/owl-carousel.js' %}"></script>
    <script src="{% static 'js/accordions.js' %}"></script>
    <script src="{% static 'js/datepicker.js' %}"></script>
    <script src="{% static 'js/scrollreveal.min.js' %}"></script>
    <script src="{% static 'js/waypoints.min.js' %}"></script>
    <script src="{% static 'js/jquery.counterup.min.js' %}"></script>
    <script src="{% static 'js/imgfix.min.js' %}"></script>
    <script src="{% static 'js/slick.js' %}"></script>
    <script src="{% static 'js/lightbox.js' %}"></script>
    <script src="{% static 'js/isotope.js' %}"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Global Init -->
    <script src="{% static 'js/custom.js' %}"></script>

    <script>
      $(function () {
        var selectedClass = "";
        $("p").click(function () {
          selectedClass = $(this).attr("data-rel");
          $("#portfolio").fadeTo(50, 0.1);
          $("#portfolio div")
            .not("." + selectedClass)
            .fadeOut();
          setTimeout(function () {
            $("." + selectedClass).fadeIn();
            $("#portfolio").fadeTo(50, 1);
          }, 500);
        });
      });
    </script>
    <script>
      function closeAlert(alertId) {
          var alertElement = document.getElementById(alertId);
          if (alertElement) {
              alertElement.classList.remove('show');
              setTimeout(function() {
                  alertElement.style.display = 'none';
              }, 150); // Allow fade-out animation to complete
          }
      }
      </script>
      
  </body>
</html>
